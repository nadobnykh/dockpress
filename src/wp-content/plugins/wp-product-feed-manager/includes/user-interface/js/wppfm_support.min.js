function wppfm_activateFeedCategoryMapping(f){if(f!=="wppfm_all_categories_selected"){var d=jQuery("#feed-selector-"+f);wppfm_activateFeedCategorySelector(f);var c=d.attr("data-children")?JSON.parse(d.attr("data-children")):[];for(var b=0;b<c.length;b++){wppfm_activateFeedCategorySelector(c[b])}}else{var e=jQuery("tbody#wppfm-category-mapping-body").children("tr");for(var a=0;a<e.length;a++){wppfm_activateFeedCategorySelector(jQuery(e[a]).children("th").children("input").val())}}}function wppfm_activateFeedCategorySelection(f){if(f!=="wppfm_all_categories_selected"){var d=jQuery("#feed-selector-"+f);var c=d.attr("data-children")?JSON.parse(d.attr("data-children")):[];d.prop("checked",true);_feedHolder.activateCategory(f,true);for(var b=0;b<c.length;b++){wppfm_activateFeedCategorySelection(c[b])}}else{var e=jQuery("tbody#wppfm-category-mapping-body").children("tr");for(var a=0;a<e.length;a++){wppfm_activateFeedCategorySelection(jQuery(e[a]).children("th").children("input").val())}}}function wppfm_activateFeedCategorySelector(g){var a=wppfm_channelUsesOwnCategories(_feedHolder.channel);var b=a?"shopCategory":"default";var f=jQuery("#feed-selector-"+g);var e=jQuery("#feed-category-"+g);_feedHolder.activateCategory(g,a);var d=f.attr("data-children")?JSON.parse(f.attr("data-children")):[];if(e.html()===""){e.html(wppfm_mapToDefaultCategoryElement(g,b))}f.prop("checked",true);for(var c=0;c<d.length;c++){wppfm_activateFeedCategorySelector(d[c])}}function wppfm_deactivateFeedCategorySelection(f){if(f!=="wppfm_all_categories_selected"){var d=jQuery("#feed-selector-"+f);var c=d.attr("data-children")?JSON.parse(d.attr("data-children")):[];d.prop("checked",false);_feedHolder.deactivateCategory(f);for(var b=0;b<c.length;b++){wppfm_deactivateFeedCategorySelection(c[b])}}else{var e=jQuery("tbody#wppfm-category-mapping-body").children("tr");for(var a=0;a<e.length;a++){wppfm_deactivateFeedCategorySelection(jQuery(e[a]).children("th").children("input").val())}}}function wppfm_deactivateFeedCategoryMapping(e){if(e!=="wppfm_all_categories_selected"){var c=jQuery("#feed-selector-"+e);wppfm_deactivateFeedCategorySelector(e,true);var b=c.attr("data-children")?JSON.parse(c.attr("data-children")):[];for(var a=0;a<b.length;a++){wppfm_deactivateFeedCategorySelector(b[a],false)}}else{var d=jQuery("tbody#wppfm-category-mapping-body").children("tr");for(var a=0;a<d.length;a++){wppfm_deactivateFeedCategorySelector(jQuery(d[a]).children("th").children("input").val())}}}function wppfm_contains_special_characters(b){var a="%^#<>{}[]/~`@?:;=&";for(var c=0;c<a.length;c++){if(b.indexOf(a[c])>-1){return true}}return false}function wppfm_deactivateFeedCategorySelector(e,c){var d=jQuery("#feed-selector-"+e);_feedHolder.deactivateCategory(e);jQuery("#feed-category-"+e).html("");jQuery("#category-selector-catmap-"+e).hide();d.prop("checked",false);if(!c){var b=d.attr("data-children")?JSON.parse(d.attr("data-children")):[];for(var a=0;a<b.length;a++){wppfm_deactivateFeedCategorySelector(b[a],false)}}}function wppfm_hideSubs(c){var e=c.match(/(\d+)$/)[0];var a=c.substring(0,c.length-e.length);for(var b=7;b>e;b--){var d=jQuery("#"+a+b);d.css("display","none");d.empty()}}function wppfm_splitCombinedFieldElements(d){if(!d){return[]}var c=/\|[0-9]/;var a=[];var b=0;while((match=c.exec(d))!==null){var e=match.index;a.push(d.substring(b,e));d=d.slice(e+1)}a.push(d);return a}function wppfm_show_feed_spinner(){jQuery("#feed-spinner").show();jQuery("body").css("cursor","wait");jQuery("#wppfm-generate-feed-button-top").attr("disabled",true);jQuery("#wppfm-generate-feed-button-bottom").attr("disabled",true);jQuery("#wppfm-save-feed-button-top").attr("disabled",true);jQuery("#wppfm-save-feed-button-bottom").attr("disabled",true)}function wppfm_hide_feed_spinner(){jQuery("#feed-spinner").hide();jQuery("body").css("cursor","default");jQuery("#wppfm-generate-feed-button-top").attr("disabled",false);jQuery("#wppfm-generate-feed-button-bottom").attr("disabled",false);jQuery("#wppfm-save-feed-button-top").attr("disabled",false);jQuery("#wppfm-save-feed-button-bottom").attr("disabled",false)}function wppfm_enableFeedActionButtons(){jQuery("#wppfm-generate-feed-button-top").prop("disabled",false);jQuery("#wppfm-generate-feed-button-bottom").prop("disabled",false);jQuery("#wppfm-save-feed-button-top").prop("disabled",false);jQuery("#wppfm-save-feed-button-bottom").prop("disabled",false)}function disableFeedActionButtons(){jQuery("#wppfm-generate-feed-button-top").prop("disabled",true);jQuery("#wppfm-generate-feed-button-bottom").prop("disabled",true);jQuery("#wppfm-save-feed-button-top").prop("disabled",true);jQuery("#wppfm-save-feed-button-bottom").prop("disabled",true)}function wppfm_show_error_message(b){var a=jQuery("#error-message");a.empty();a.append("<p>"+b+"</p>");a.show()}function wppfm_show_success_message(b){var a=jQuery("#success-message");a.empty();a.append("<p>"+b+"</p>");a.show()};